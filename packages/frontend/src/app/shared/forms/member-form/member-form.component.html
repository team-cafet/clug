<div class="memberform">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        {{ memberForm.value.firstname }} {{ memberForm.value.lastname }}
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <mat-accordion>
        <form [formGroup]="memberForm" (ngSubmit)="save()">
          <!-- GENERAL INFORMATION ABOUT THE MEMBER -->
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title
                i18n-placeholder="member-form|PersonalData@@mem-personaldata"
              >
                Personal data
              </mat-panel-title>
              <mat-panel-description
                i18n-placeholder="
                  member-form|PersonalDataDescr@@mem-personaldatadescr"
              >
                General information about the member
              </mat-panel-description>
            </mat-expansion-panel-header>

            <mat-form-field appearance="outline" class="input">
              <mat-label>Firstname</mat-label>
              <input
                matInput
                placeholder="firstname"
                i18n-placeholder="member-form|Firstname@@mem-firstname"
                formControlName="firstname"
                required
              />
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label>Lastname</mat-label>
              <input
                matInput
                placeholder="lastname"
                i18n-placeholder="member-form|Lastname@@mem-lastname"
                formControlName="lastname"
                required
              />
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Sexe@@mem-sexe">Sexe</mat-label>
              <mat-select formControlName="sexe">
                <mat-option
                  *ngFor="let sexeItem of SEXE_LABEL"
                  [value]="sexeItem"
                >
                  {{ displaySexe(sexeItem) }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Birthdate@@mem-birthdate"
                >Birthdate</mat-label
              >
              <input
                matInput
                placeholder="Birthdate"
                type="date"
                formControlName="birthdate"
              />
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Phone@@mem-phone">Phone</mat-label>
              <input matInput placeholder="Phone" formControlName="phone" />
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Email@@mem-email">Email</mat-label>
              <input
                matInput
                placeholder="Email"
                type="email"
                formControlName="email"
                required
              />
            </mat-form-field>
          </mat-expansion-panel>

          <!-- ASSOCIATION SPECIAL INFORMATION ABOUT THE MEMBER -->
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title
                i18n-placeholder="member-form|AssoData@@mem-assodata"
              >
                Association information
              </mat-panel-title>
              <mat-panel-description
                i18n-placeholder="member-form|AssoDataDescr@@mem-assodatadescr"
              >
                Specific association information
              </mat-panel-description>
            </mat-expansion-panel-header>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Club@@mem-club">Club</mat-label>
              <mat-select formControlName="club">
                <mat-option
                  *ngFor="let clubItem of clubs"
                  [value]="clubItem.id"
                >
                  {{ clubItem.designation }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Level@@mem-level">Level</mat-label>
              <mat-select formControlName="level">
                <mat-option
                  *ngFor="let levelItem of levels"
                  [value]="levelItem.id"
                >
                  {{ levelItem.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </mat-expansion-panel>
        </form>

        <!-- ADDRESS INFORMATION ABOUT THE MEMBER -->
        <form [formGroup]="addressForm">
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title
                i18n-placeholder="member-form|AddressData@@mem-addressdata"
              >
                Address information
              </mat-panel-title>
              <mat-panel-description
                i18n-placeholder="
                  member-form|AddressDataDescr@@mem-addressdatadescr"
              >
              </mat-panel-description>
            </mat-expansion-panel-header>

            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Street@@mem-street"
                >Street</mat-label
              >
              <input
                matInput
                placeholder="street"
                i18n-placeholder="member-form|Street@@mem-street"
                formControlName="street"
              />
            </mat-form-field>
            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|StreetNumber@@mem-streetNumber"
                >Street Number</mat-label
              >
              <input
                matInput
                placeholder="street number"
                type="number"
                i18n-placeholder="member-form|StreetNumber@@mem-streetNumber"
                formControlName="streetNumber"
              />
            </mat-form-field>
            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|City@@mem-city">City</mat-label>
              <input
                matInput
                placeholder="city"
                i18n-placeholder="member-form|City@@mem-city"
                formControlName="city"
              />
            </mat-form-field>
            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|PostalCode@@mem-postalCode"
                >Postal Code</mat-label
              >
              <input
                matInput
                placeholder="postal code"
                type="number"
                i18n-placeholder="member-form|PostalCode@@mem-postalCode"
                formControlName="postalCode"
              />
            </mat-form-field>
            <mat-form-field appearance="outline" class="input">
              <mat-label i18n="member-form|Country@@mem-country"
                >Country</mat-label
              >
              <input
                matInput
                placeholder="country"
                i18n-placeholder="member-form|Country@@mem-country"
                formControlName="country"
              />
            </mat-form-field>
          </mat-expansion-panel>
        </form>
      </mat-accordion>
    </mat-card-content>

    <mat-card-actions>
      <app-form-buttons
        [disableSave]="!memberForm.valid || !addressForm.valid"
        [displayDelete]="this.member.id"
        (saveEvent)="save()"
        (deleteEvent)="delete()"
      ></app-form-buttons>
    </mat-card-actions>
  </mat-card>
</div>
