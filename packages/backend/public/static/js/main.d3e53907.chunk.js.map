{"version":3,"sources":["hooks/useGetAllFromService.tsx","services/auth.service.ts","services/api.service.ts","libs/interfaces/membershipPlan.interface.ts","services/member.service.ts","components/molecules/DataTable/BasicFilter.tsx","components/molecules/DataTable/DataTable.tsx","components/molecules/DataTable/UseFilterTypes.tsx","components/pages/Member/Member.tsx","services/memberlabel.service.ts","components/molecules/FormGroup.tsx","components/organisms/MemberForm.tsx","hooks/useMemberLabels.tsx","hooks/useUserOrganisation.tsx","components/pages/Member/MemberDetails.tsx","components/pages/Member/MemberAdd.tsx","routes/member.routes.tsx","services/club.service.ts","components/pages/Club/Club.tsx","components/atoms/Button.tsx","components/atoms/Alert.tsx","components/organisms/ClubForm.tsx","components/pages/Club/ClubAdd.tsx","components/pages/Club/ClubDetails.tsx","routes/club.routes.tsx","services/data-mapping.service.ts","contexts/GlobalContext.tsx","services/membership-plan.service.ts","components/pages/MembershipPlan/MembershipPlan.tsx","components/organisms/MembershipPlanForm.tsx","components/pages/MembershipPlan/MembershipPlanAdd.tsx","routes/membershipPlan.routes.tsx","components/pages/MemberLabel/MemberLabel.tsx","components/organisms/MemberLabelForm.tsx","components/pages/MemberLabel/MemberLabelAdd.tsx","components/pages/MemberLabel/MemberLabelDetails.tsx","routes/memberLabel.routes.tsx","components/molecules/DashboardCard.tsx","services/dashboard.service.ts","components/pages/Dashboard/Dashboard.tsx","services/membership.service.ts","services/payment.service.ts","services/paymentRequest.service.ts","components/molecules/paymentCard.tsx","components/pages/Payment/Payment.tsx","routes/payment.routes.tsx","routes/admin.routes.tsx","components/template/Sidebar.tsx","components/template/AdminLayout.tsx","components/template/BasicLayout.tsx","components/atoms/Input.tsx","components/organisms/LoginForm.tsx","components/pages/Login.tsx","components/pages/Home.tsx","components/pages/Logout.tsx","routes/routes.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["useGetAllFromService","props","useState","data","setData","getAll","useCallback","a","service","result","useEffect","login","username","password","POST","setToken","token","setUserInfo","user","info","localStorage","setItem","JSON","stringify","getUserInfo","userConfig","getItem","parse","Error","getToken","METHODS","makeApiRequest","url","method","body","undefined","instance","axios","create","baseURL","defaults","headers","common","GET","PUT","PATCH","DELETE","get","params","post","put","patch","delete","PlanType","APIResource","resourceURL","this","id","memberService","BasicFilter","column","filterValue","preFilteredRows","setFilter","count","length","InputGroup","className","Append","Text","FormControl","value","onChange","e","target","placeholder","DataTable","useMemo","columns","filterTypes","React","text","rows","filter","row","rowValue","values","String","toLowerCase","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","pageSize","useFilters","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","page","pageCount","gotoPage","prepareRow","state","Table","map","headerGroup","getHeaderGroupProps","getHeaderProps","customRowProps","getRowProps","cells","cell","getCellProps","render","current","DataTablePagination","active","items","number","push","Pagination","Item","key","onClick","Prev","Next","SortingHeader","getSortByToggleProps","isSorted","isSortedDesc","FilterHeader","canFilter","Member","members","COLUMNS","Header","accessor","disableFilters","disableSortBy","Cell","DATA","member","name","firstname","lastname","negativeBalance","balance","to","index","GoToMemberBtn","component","Button","memberLabelService","FormGroup","label","type","formnikError","MemberForm","displayAlertMemberSaved","setDisplayAlertMemberSaved","availableMemberLabels","memberLabels","setMemberLabels","getAllMemberLabel","useMemberLabels","initialValues","email","birthdate","phone","street","streetNumber","city","postalCode","global","submit","formHelper","setSubmitting","setFieldError","find","availabelLabel","Number","parseInt","update","add","organisation","organisationID","console","error","message","validate","errors","onSubmit","isSubmitting","setFieldValue","variant","onClose","dismissible","children","multiple","disabled","useUserOrganisation","orgID","setOrgID","userInfo","MemberDetails","useParams","setMember","getByID","getAMember","MemberAdd","MemberRoutes","path","useRouteMatch","exact","clubService","Club","clubs","setClubs","getAllClubs","club","ClubRow","Alert","ClubForm","ClubAdd","window","history","back","ClubDetails","setClub","getAClub","ClubRoutes","GlobalContextActions","planTypeMapper","weekly","monthly","quarterly","biannual","annual","membershipPlanService","MembershipPlan","plans","getAllMembershipPlans","plan","tacit","refreshList","MembershipPlanAction","deletePlan","price","MembershipPlanForm","membershipPlan","description","htmlFor","MembershipPlanAdd","planToUpdate","setPlanToUpdate","fetchData","MembershipPlanRoute","MemberLabel","LabelRow","MemberLabelForm","MemberLabelAdd","MemberLabelDetails","setLabel","MemberLabelRoutes","DashboardCard","title","dashboardService","Dashboard","stats","setStats","request","birthdays","negativeBalanceUsers","membershipService","paymentService","paymentRequestService","PaymentCard","memberShip","onPaymentReceivedFunction","alreadyRequested","setAlreadyRequested","paymentRequest","createPaymentRequest","membership","amount","date","Date","newPaymentRequest","createPayment","paymentData","hasBeenCanceled","newPayment","createPaymentWithoutRequest","payment","endDate","Payment","memberships","setMemberships","getNotPaidMemberships","getNotPaid","paymentReceived","PaymentRoute","AdminRoutes","Sidebar","isOpen","setIsOpen","location","useLocation","width","onStateChange","handleStateChange","disableAutoFocus","links","link","displayName","AdminLayout","pageWrapId","outerContainerId","BasicLayout","INITIAL_STATE","isAuthentified","GlobalContext","createContext","GlobalContextProvider","useReducer","action","INIT_APP","HAS_LOGIN","LOGOUT","clear","dispatch","Provider","Input","forwardRef","ref","LoginForm","setError","usernameInp","useRef","passwordInp","globalContext","useContext","preventDefault","Login","Home","Logout","globalCtxt","Routes","App","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.d3e53907.chunk.js","sourcesContent":["import { useEffect, useState, useCallback } from 'react';\r\nimport { APIResource } from '../services/api.service';\r\n\r\nexport function useGetAllFromService<T>(props: {service: APIResource}): [T[], ()=>void] {\r\n  const [data, setData] = useState<T[]>([]);\r\n\r\n  const getAll = useCallback(async () => {\r\n    const result = await props.service.getAll();\r\n    if (result) {\r\n      setData(result.data);\r\n    }\r\n  }, [props.service]);\r\n\r\n  useEffect(() => {\r\n    getAll();\r\n  }, [getAll]);\r\n\r\n  return [data, getAll];\r\n}","import { POST } from './api.service';\r\n\r\nconst LS_USER_INFO = 'LS_USER_INFO';\r\nconst LS_TOKEN = 'LS_TOKEN';\r\n\r\n/**\r\n * Following inteface must be the same as IUserInfo in backend\r\n */\r\ninterface IUserInfo {\r\n  id: number;\r\n  username:string;\r\n  organisation: {\r\n    id: number;\r\n  } | null;\r\n  group: {\r\n    id: number\r\n  };\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} username\r\n * @param {*} password\r\n */\r\nexport async function login(username: string, password: string) {\r\n  const result = await POST('auth/login', { username, password });\r\n  const data: {user:IUserInfo, token:string} = result?.data;\r\n  setToken(data.token);\r\n  setUserInfo(data.user);\r\n  return result;\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} info\r\n */\r\nfunction setUserInfo(info: IUserInfo) {\r\n  if (!info) {\r\n    return;\r\n  }\r\n\r\n  localStorage.setItem(LS_USER_INFO, JSON.stringify(info));\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function getUserInfo(): IUserInfo | null {\r\n  const userConfig = localStorage.getItem(LS_USER_INFO);\r\n\r\n  if (!userConfig) {\r\n    return null;\r\n  }\r\n\r\n  return JSON.parse(userConfig);\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} token\r\n */\r\nfunction setToken(token: string) {\r\n  if (!token) {\r\n    throw Error('no_token_defined');\r\n  }\r\n  localStorage.setItem(LS_TOKEN, token);\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function getToken() {\r\n  return localStorage.getItem(LS_TOKEN);\r\n}\r\n\r\n/**\r\n *\r\n */\r\nexport function logout() {\r\n  localStorage.clear();\r\n}\r\n","import axios from 'axios';\r\nimport { getToken } from './auth.service';\r\n\r\nconst API_URL = '/api/';\r\n\r\n/**\r\n * Define all possible HTTP METHODS\r\n */\r\nexport enum METHODS {\r\n  GET = 'GET',\r\n  POST = 'POST',\r\n  PUT = 'PUT',\r\n  PATCH = 'PATCH',\r\n  DELETE = 'DELETE',\r\n}\r\n\r\n/**\r\n * General purpose function to make a request on the api\r\n * @param {*} url\r\n * @param {*} method\r\n * @param {*} body\r\n */\r\nexport async function makeApiRequest(\r\n  url: string,\r\n  method: METHODS,\r\n  body: any = undefined\r\n) {\r\n  const instance = axios.create({ baseURL: API_URL });\r\n\r\n  // The following code set the authoritzazion header\r\n  const token = getToken();\r\n  if (token) {\r\n    instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  switch (method) {\r\n    case METHODS.GET:\r\n      return instance.get(url, { params: body });\r\n\r\n    case METHODS.POST:\r\n      return instance.post(url, body);\r\n\r\n    case METHODS.PUT:\r\n      return instance.put(url, body);\r\n\r\n    case METHODS.PATCH:\r\n      return instance.patch(url, body);\r\n\r\n    case METHODS.DELETE:\r\n      return instance.delete(url);\r\n\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\n/**\r\n * Simply request with GET method\r\n * @param {*} url\r\n */\r\nexport function GET(url: string, body?: any) {\r\n  return makeApiRequest(url, METHODS.GET, body);\r\n}\r\n\r\n/**\r\n * Simply request with POST method\r\n * @param {*} url\r\n * @param {*} body\r\n */\r\nexport function POST(url: string, body: any) {\r\n  return makeApiRequest(url, METHODS.POST, body);\r\n}\r\n\r\n/**\r\n * Simply request with PUT method\r\n * @param {*} url\r\n * @param {*} body\r\n */\r\nexport function PUT(url: string, body: any) {\r\n  return makeApiRequest(url, METHODS.PUT, body);\r\n}\r\n\r\n/**\r\n * Simply request with PATCH method\r\n * @param {*} url\r\n * @param {*} body\r\n */\r\nexport function PATCH(url: string, body: any) {\r\n  return makeApiRequest(url, METHODS.PATCH, body);\r\n}\r\n\r\n/**\r\n * Simply request with DELETE method\r\n * @param {*} url\r\n */\r\nexport function DELETE(url: string) {\r\n  return makeApiRequest(url, METHODS.DELETE);\r\n}\r\n\r\n/**\r\n * Generic class for REST API resources\r\n */\r\nexport class APIResource {\r\n  constructor(private resourceURL: string) {}\r\n\r\n  /**\r\n   * Get all resources records\r\n   */\r\n  getAll() {\r\n    return GET(this.resourceURL);\r\n  }\r\n\r\n  /**\r\n   * Get a specific resource record\r\n   * @param {*} id\r\n   */\r\n  getByID(id: number) {\r\n    return GET(`${this.resourceURL}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * Add a resource record\r\n   * @param {*} body\r\n   */\r\n  add(body: any) {\r\n    return POST(this.resourceURL, body);\r\n  }\r\n\r\n  /**\r\n   * Update a resource record\r\n   * @param {*} id\r\n   * @param {*} body\r\n   */\r\n  update(id: number, body: any) {\r\n    return PUT(`${this.resourceURL}/${id}`, body);\r\n  }\r\n\r\n  /**\r\n   * Delete a resource record\r\n   * @param {*} id\r\n   */\r\n  delete(id: number) {\r\n    return DELETE(`${this.resourceURL}/${id}`);\r\n  }\r\n}\r\n","import { IMembership } from \"./membership.interface\";\r\n\r\nexport interface IMembershipPlan {\r\n  id: number;\r\n  price: number;\r\n  description?: string;\r\n  type: number;\r\n  tacit: boolean;\r\n  memberships: IMembership[];\r\n}\r\n\r\nexport enum PlanType {\r\n  weekly,\r\n  monthly,\r\n  quarterly,\r\n  biannual,\r\n  annual,\r\n}\r\n","import { APIResource } from './api.service';\r\n\r\nexport const memberService = new APIResource('members');","import React from 'react';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nexport const BasicFilter = ({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}: any) => {\r\n  const count = preFilteredRows.length;\r\n\r\n  return (\r\n    <InputGroup className=\"mb-3\">\r\n      <InputGroup.Append>\r\n        {/* eslint-disable-next-line jsx-a11y/accessible-emoji*/}\r\n        <InputGroup.Text>🔎</InputGroup.Text>\r\n      </InputGroup.Append>\r\n      <FormControl\r\n        value={filterValue || ''}\r\n        onChange={(e) => {\r\n          // Set undefined to remove the filter entirely\r\n          setFilter(e.target.value || undefined);\r\n        }}\r\n        placeholder={`Search ${count} records...`}\r\n      />\r\n    </InputGroup>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport {\r\n  useTable,\r\n  Column,\r\n  useSortBy,\r\n  useFilters,\r\n  usePagination,\r\n} from 'react-table';\r\nimport { Table, Pagination } from 'react-bootstrap';\r\nimport { BasicFilter } from './BasicFilter';\r\nimport { useFilterTypes } from './UseFilterTypes';\r\n\r\ninterface IProps {\r\n  id?: string;\r\n  className?: string;\r\n  pageSize?: number;\r\n  data: any[];\r\n  columns: Column[];\r\n  customRowProps?: (row: any) => any;\r\n}\r\n\r\nexport interface IDataTableColumns {}\r\n\r\nexport const DataTable = (props: IProps) => {\r\n  const data = useMemo(() => props.data, [props.data]);\r\n  const columns = useMemo(() => props.columns, [props.columns]);\r\n\r\n  const filterTypes = useFilterTypes();\r\n\r\n  const defaultColumn = React.useMemo(\r\n    () => ({\r\n      // Add a basic text filter to all column that haven't disable filtering\r\n      Filter: BasicFilter,\r\n    }),\r\n    []\r\n  );\r\n\r\n  const tableInstance = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n      filterTypes,\r\n      initialState: { pageIndex: 0, pageSize: props.pageSize || 20 },\r\n    } as any,\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination\r\n  );\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    pageCount,\r\n    gotoPage,\r\n    prepareRow,\r\n    state: { pageIndex },\r\n  } = tableInstance as any;\r\n\r\n  return (\r\n    <>\r\n      <Table id={props.id} className={props.className} {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map((headerGroup: any) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map((column: any) => (\r\n                <th {...column.getHeaderProps()}>\r\n                  <SortingHeader column={column} />\r\n                  <FilterHeader column={column}/>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n\r\n        {/* Apply the table body props */}\r\n        <tbody {...getTableBodyProps()}>\r\n          {page.map((row: any) => {\r\n            prepareRow(row);\r\n            const customRowProps = props.customRowProps\r\n              ? props.customRowProps(row)\r\n              : {};\r\n\r\n            return (\r\n              <tr {...row.getRowProps(customRowProps)}>\r\n                {row.cells.map((cell: any) => {\r\n                  return (\r\n                    <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      <DataTablePagination\r\n        pageCount={pageCount}\r\n        current={pageIndex}\r\n        gotoPage={gotoPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst DataTablePagination = (props: {\r\n  pageCount: number;\r\n  current: number;\r\n  gotoPage: (pageIndex: any) => void;\r\n}) => {\r\n  const active = props.current;\r\n  const items = [];\r\n  for (let number = 1; number <= props.pageCount; number++) {\r\n    items.push(\r\n      <Pagination.Item\r\n        key={number}\r\n        active={number - 1 === active}\r\n        onClick={() => props.gotoPage(number - 1)}\r\n      >\r\n        {number}\r\n      </Pagination.Item>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Pagination>\r\n      {active - 1 >= 0 && (\r\n        <Pagination.Prev onClick={() => props.gotoPage(active - 1)} />\r\n      )}\r\n      {items}\r\n      {active + 1 < props.pageCount && (\r\n        <Pagination.Next onClick={() => props.gotoPage(active + 1)} />\r\n      )}\r\n    </Pagination>\r\n  );\r\n};\r\n\r\nconst SortingHeader = ({ column }: { column: any }) => (\r\n  <div {...column.getSortByToggleProps()}>\r\n    {column.render('Header')}\r\n    <span>{column.isSorted ? (column.isSortedDesc ? ' 🔽' : ' 🔼') : ''}</span>\r\n  </div>\r\n);\r\n\r\nconst FilterHeader = ({ column }: { column: any }) => (\r\n  <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n);\r\n","import React from 'react';\r\n\r\nexport const useFilterTypes = () => {\r\n  return React.useMemo(\r\n    () => ({\r\n      text: (rows: any, id: any, filterValue: any) => {\r\n        return rows.filter((row: any) => {\r\n          const rowValue = row.values[id];\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true;\r\n        });\r\n      },\r\n    }),\r\n    []\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetAllFromService } from '../../../hooks/useGetAllFromService';\r\nimport { IMember } from '../../../libs/interfaces/member.interface';\r\nimport { memberService } from '../../../services/member.service';\r\nimport { DataTable } from '../../molecules/DataTable';\r\nimport './style.scss';\r\n\r\n\r\nexport const Member = () => {\r\n  const [members] = useGetAllFromService<IMember>({service: memberService});\r\n\r\n  const COLUMNS: any[] = [\r\n    {\r\n      Header: 'Nom',\r\n      accessor: 'name',\r\n    },\r\n    {\r\n      Header: '',\r\n      accessor: 'id',\r\n      disableFilters: true,\r\n      disableSortBy: true,\r\n      Cell: (cell: any) => <GoToMemberBtn id={cell.value} />,\r\n    },\r\n  ];\r\n\r\n  const DATA = useMemo(\r\n    () =>\r\n      members.map((member) => ({\r\n        id: member.id,\r\n        name: `${member.user?.firstname} ${member.user?.lastname}`,\r\n        negativeBalance: member.balance < 0,\r\n      })),\r\n    [members]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <h1>Membres</h1>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <Link to=\"/admin/members/add\" className=\"btn btn-primary\">\r\n            Ajouter\r\n          </Link>\r\n        </div>\r\n        <div className=\"row\">\r\n          <DataTable\r\n            data={DATA}\r\n            columns={COLUMNS}\r\n            customRowProps={(row: any) => ({\r\n              className: DATA[row.index].negativeBalance\r\n                ? 'member-table__row--negative-balance'\r\n                : '',\r\n            })}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst GoToMemberBtn = (props: { id: number }) => {\r\n  return (\r\n    <Link component={Button} to={`/admin/members/${props.id}`}>\r\n      ...\r\n    </Link>\r\n  );\r\n};\r\n","import { APIResource } from './api.service';\r\n\r\nexport const memberLabelService = new APIResource('memberlabels');\r\n","import React from 'react';\r\nimport { ErrorMessage, Field } from 'formik';\r\n\r\ninterface IProps {\r\n  className?: string;\r\n  label: string;\r\n  type: 'text' | 'date' | 'number' | 'password';\r\n  formnikError: string | undefined;\r\n  name: string;\r\n}\r\n\r\nexport const FormGroup = ({ className, label, type, formnikError, name }: IProps) => (\r\n  <div className={`form-group ${className}`}>\r\n    <label>{label}</label>\r\n    <Field\r\n      className={`form-control ${formnikError ? 'is-invalid' : ''}`}\r\n      name={name}\r\n      type={type}\r\n    />\r\n    <ErrorMessage name={name} component=\"div\" className=\"invalid-feedback\" />\r\n  </div>\r\n);\r\n","import { ErrorMessage, Field, Form, Formik, FormikHelpers } from 'formik';\r\nimport React, { useState } from 'react';\r\nimport { Alert, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMemberLabels } from '../../hooks/useMemberLabels';\r\nimport { IMember } from '../../libs/interfaces/member.interface';\r\nimport { memberService } from '../../services/member.service';\r\nimport { FormGroup } from '../molecules/FormGroup';\r\n\r\ninterface IFormValue {\r\n  global: string;\r\n  memberLabels: number[];\r\n  user: {\r\n    email: string;\r\n    firstname: string;\r\n    lastname: string;\r\n    birthdate: Date | string;\r\n    phone: string;\r\n    street: string;\r\n    streetNumber: null | number;\r\n    city: string;\r\n    postalCode: null | number;\r\n  };\r\n}\r\n\r\ninterface IProps {\r\n  member?: IMember;\r\n  organisationID: number;\r\n}\r\n\r\nexport const MemberForm = (props: IProps) => {\r\n  const [displayAlertMemberSaved, setDisplayAlertMemberSaved] = useState(false);\r\n  const availableMemberLabels = useMemberLabels();\r\n\r\n  let initialValues: IFormValue = {\r\n    memberLabels: [],\r\n    user: {\r\n      email: '',\r\n      firstname: '',\r\n      lastname: '',\r\n      birthdate: '',\r\n      phone: '',\r\n      street: '',\r\n      streetNumber: null,\r\n      city: '',\r\n      postalCode: null,\r\n    },\r\n    global: '',\r\n  };\r\n\r\n  if (props.member) {\r\n    initialValues.memberLabels =\r\n      props.member.memberLabels?.map((label) => label.id) || [];\r\n    initialValues.user = { ...initialValues.user, ...props.member.user };\r\n  }\r\n\r\n  const validate = (values: IFormValue) => {\r\n    const errors: any = {};\r\n\r\n    if (!values.user.email) {\r\n      errors.user = {};\r\n      errors.user.email = 'Requis';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const submit = async (\r\n    values: IFormValue,\r\n    formHelper: FormikHelpers<IFormValue>\r\n  ) => {\r\n    const { setSubmitting, setFieldError } = formHelper;\r\n\r\n    try {\r\n      (values as any) = {\r\n        ...values,\r\n        // tag send to the server must be at least have id and name\r\n        memberLabels: values.memberLabels.map((label:any) =>\r\n          availableMemberLabels.find(\r\n            (availabelLabel) => availabelLabel.id === Number.parseInt(label)\r\n          )\r\n        ),\r\n      };\r\n      if (props.member?.id) {\r\n        await memberService.update(props.member.id, values);\r\n      } else {\r\n        await memberService.add({\r\n          ...values,\r\n          organisation: { id: props.organisationID },\r\n        });\r\n      }\r\n      setDisplayAlertMemberSaved(true);\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.message) {\r\n        setFieldError('global', err.message);\r\n      } else {\r\n        setFieldError('global', 'Erreur serveur...');\r\n      }\r\n    }\r\n\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <Formik initialValues={initialValues} validate={validate} onSubmit={submit}>\r\n      {({ isSubmitting, errors, setFieldValue, values }) => (\r\n        <Form>\r\n          {displayAlertMemberSaved && (\r\n            <Alert\r\n              variant=\"success\"\r\n              onClose={() => setDisplayAlertMemberSaved(false)}\r\n              dismissible\r\n            >\r\n              Le membre a bien été sauvé !\r\n            </Alert>\r\n          )}\r\n\r\n          <ErrorMessage\r\n            name=\"global\"\r\n            component={(props) => (\r\n              <Alert variant=\"danger\">{props.children}</Alert>\r\n            )}\r\n          />\r\n\r\n          {/* General member information */}\r\n          <div>\r\n            <h2>Tag</h2>\r\n            <Field\r\n              component=\"select\"\r\n              multiple={true}\r\n              name=\"memberLabels\"\r\n              className=\"form-control\"\r\n            >\r\n              {availableMemberLabels.map((label) => (\r\n                <option key={label.id} value={label.id}>\r\n                  {label.name}\r\n                </option>\r\n              ))}\r\n            </Field>\r\n            <h2>Informations générales</h2>\r\n\r\n            <FormGroup\r\n              label=\"Email\"\r\n              type=\"text\"\r\n              formnikError={errors.user?.email}\r\n              name=\"user.email\"\r\n            />\r\n\r\n            <FormGroup\r\n              label=\"Nom\"\r\n              type=\"text\"\r\n              formnikError={errors.user?.lastname}\r\n              name=\"user.lastname\"\r\n            />\r\n            <FormGroup\r\n              label=\"Prénom\"\r\n              type=\"text\"\r\n              formnikError={errors.user?.firstname}\r\n              name=\"user.firstname\"\r\n            />\r\n\r\n            <FormGroup\r\n              label=\"Date de naissance\"\r\n              type=\"date\"\r\n              formnikError={errors.user?.birthdate}\r\n              name=\"user.birthdate\"\r\n            />\r\n\r\n            <FormGroup\r\n              label=\"Téléphone\"\r\n              type=\"text\"\r\n              formnikError={errors.user?.phone}\r\n              name=\"user.phone\"\r\n            />\r\n\r\n            <h2>Adresse</h2>\r\n\r\n            <div className=\"form-row\">\r\n              <FormGroup\r\n                className=\"col-8\"\r\n                label=\"Rue\"\r\n                type=\"text\"\r\n                formnikError={errors.user?.street}\r\n                name=\"user.street\"\r\n              />\r\n              <FormGroup\r\n                className=\"col\"\r\n                label=\"Numéro\"\r\n                type=\"number\"\r\n                formnikError={errors.user?.streetNumber}\r\n                name=\"user.streetNumber\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <FormGroup\r\n                className=\"col-4\"\r\n                label=\"NPA\"\r\n                type=\"number\"\r\n                formnikError={errors.user?.postalCode}\r\n                name=\"user.postalCode\"\r\n              />\r\n              <FormGroup\r\n                className=\"col\"\r\n                label=\"Ville\"\r\n                type=\"text\"\r\n                formnikError={errors.user?.city}\r\n                name=\"user.city\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n            Sauver\r\n          </Button>\r\n          <Link to=\"/admin/members\">\r\n            <Button variant=\"secondary\">Annuler</Button>\r\n          </Link>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n","\r\nimport { memberLabelService } from '../services/memberlabel.service';\r\nimport { useEffect, useState } from 'react';\r\nimport { IMemberLabel } from '../libs/interfaces/memberLabel.interface';\r\n\r\nexport const useMemberLabels = () => {\r\n  const [memberLabels, setMemberLabels] = useState<IMemberLabel[]>([]);\r\n\r\n  useEffect(() => {\r\n    const getAllMemberLabel = async () => {\r\n      const memberLabels = await memberLabelService.getAll();\r\n      if (memberLabels) {\r\n        setMemberLabels(memberLabels.data);\r\n      }\r\n    };\r\n\r\n    getAllMemberLabel();\r\n  }, []);\r\n\r\n  return memberLabels\r\n}","import { useEffect, useState } from \"react\";\r\nimport { getUserInfo } from \"../services/auth.service\";\r\n\r\nexport const useUserOrganisation = (): [number, any]=> {\r\n  const [orgID, setOrgID] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const userInfo = getUserInfo();\r\n    if (userInfo?.organisation?.id) {\r\n      setOrgID(userInfo?.organisation.id);\r\n    }\r\n  }, []);\r\n\r\n  return [orgID, setOrgID];\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { IMember } from '../../../libs/interfaces/member.interface';\r\nimport { memberService } from '../../../services/member.service';\r\nimport { useParams } from 'react-router-dom';\r\nimport { MemberForm } from '../../organisms/MemberForm';\r\nimport { useUserOrganisation } from '../../../hooks/useUserOrganisation';\r\n\r\ninterface IProps {}\r\n\r\nexport const MemberDetails = (props: IProps) => {\r\n  let { id } = useParams();\r\n  const [member, setMember] = useState<null | IMember>(null);\r\n  const [orgID] = useUserOrganisation();\r\n\r\n  useEffect(() => {\r\n    const getAMember = async () => {\r\n      const result = await memberService.getByID(id);\r\n      if (result?.data) {\r\n        setMember(result.data);\r\n      }\r\n    };\r\n\r\n    getAMember();\r\n  }, [id]);\r\n\r\n  if (!member) {\r\n    return <>loading...</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>{member.user?.email}</h1>\r\n      <MemberForm organisationID={orgID} member={member} />\r\n    </>\r\n  );\r\n};\r\n","import React, { } from 'react';\r\nimport { MemberForm } from '../../organisms/MemberForm';\r\nimport { useUserOrganisation } from '../../../hooks/useUserOrganisation';\r\n\r\ninterface IProps {}\r\n\r\nexport const MemberAdd = (props: IProps) => {\r\n  const [orgID] = useUserOrganisation();\r\n\r\n  return <>\r\n    <MemberForm organisationID={orgID} />\r\n  </>;\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\r\n\r\n// ------------------------------------------ COMPONENTS IMPORT\r\nimport { Member } from '../components/pages/Member/Member';\r\nimport { MemberDetails } from '../components/pages/Member/MemberDetails';\r\nimport { MemberAdd } from '../components/pages/Member/MemberAdd';\r\n\r\n\r\nexport const MemberRoutes = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <Member />\r\n      </Route>\r\n\r\n      <Route path={`${path}/add`}>\r\n        <MemberAdd />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:id`}>\r\n        <MemberDetails />\r\n      </Route>\r\n\r\n      <Redirect to={`${path}`} />\r\n    </Switch>\r\n  );\r\n};\r\n","import { APIResource } from './api.service';\r\n\r\nexport const clubService = new APIResource('clubs');","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { IClub } from '../../../libs/interfaces/club.interface';\r\nimport { clubService } from '../../../services/club.service';\r\n\r\nexport const Club = () => {\r\n  const [clubs, setClubs] = useState<IClub[]>([]);\r\n\r\n  useEffect(() => {\r\n    const getAllClubs = async () => {\r\n      const clubs = await clubService.getAll();\r\n      if (clubs) {\r\n        setClubs(clubs.data);\r\n      }\r\n    };\r\n\r\n    getAllClubs();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>Clubs</h1>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <Link to=\"/admin/clubs/add\" className=\"btn btn-primary\">\r\n            Ajouter\r\n          </Link>\r\n        </div>\r\n        <div className=\"row\">\r\n          <table className=\"table\">\r\n            <tbody>\r\n              {clubs.map((club) => (\r\n                <ClubRow club={club} key={club.id} />\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ClubRow = (props: { club: IClub }) => {\r\n  const { club } = props;\r\n\r\n  return (\r\n    <tr>\r\n      <td>{club.id}</td>\r\n      <td>{club.name}</td>\r\n      <td>\r\n        <Link to={`/admin/clubs/${club.id}`}>...</Link>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n","import React, { ReactNode } from 'react';\r\n\r\ninterface IProps {\r\n  type?: 'submit' | 'button';\r\n  variant?: 'primary' | 'secondary';\r\n  className?: string;\r\n  id?: string;\r\n  disabled?: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const Button = (props: IProps) => {\r\n  const { type, variant, className, id, disabled } = props;\r\n\r\n  return (\r\n    <button\r\n      type={type ? type : 'button'}\r\n      id={id}\r\n      className={`btn ${variant ? `btn-${variant}` : ''} ${className}`}\r\n      disabled={disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n","import React, { ReactNode } from 'react';\r\n\r\ninterface IProps {\r\n  variant?: 'primary' | 'secondary' | 'success' | 'danger';\r\n  className?: string;\r\n  id?: string;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const Alert = (props: IProps) => {\r\n  const { variant, className, id } = props;\r\n\r\n  return (\r\n    <div\r\n      id={id}\r\n      className={`alert ${variant ? `alert-${variant}` : ''} ${className}`}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Formik, Form, Field, ErrorMessage, FormikHelpers } from 'formik';\r\nimport { Button } from '../atoms/Button';\r\nimport { Alert } from '../atoms/Alert';\r\nimport { clubService } from '../../services/club.service';\r\nimport { IClub } from '../../libs/interfaces/club.interface';\r\n\r\ninterface IFormValue {\r\n  global: string;\r\n  name: string;\r\n}\r\n\r\ninterface IProps {\r\n  club?: IClub;\r\n  organisationID: number;\r\n  onSubmit: ()=>void;\r\n}\r\n\r\nexport const ClubForm = (props: IProps) => {\r\n  const initialValues: IFormValue = props.club\r\n    ? {\r\n        name: props.club.name,\r\n        global: '',\r\n      }\r\n    : { name: '', global: '' };\r\n\r\n  const validate = (values: IFormValue) => {\r\n    const errors: any = {};\r\n\r\n    if (!values.name) {\r\n      errors.name = 'Required';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const submit = async (\r\n    values: IFormValue,\r\n    formHelper: FormikHelpers<IFormValue>\r\n  ) => {\r\n    const { setSubmitting, setFieldError } = formHelper;\r\n\r\n    try {\r\n      if (props.club?.id) {\r\n        await clubService.update(props.club.id, values);\r\n      } else {\r\n        await clubService.add({\r\n          ...values,\r\n          organisation: { id: props.organisationID },\r\n        });\r\n      }\r\n\r\n      props.onSubmit();\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.message) {\r\n        setFieldError('global', err.message);\r\n      } else {\r\n        setFieldError('global', 'Erreur serveur...');\r\n      }\r\n    }\r\n\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <Formik initialValues={initialValues} validate={validate} onSubmit={submit}>\r\n      {({ isSubmitting, errors }) => (\r\n        <Form>\r\n          <ErrorMessage\r\n            name=\"global\"\r\n            component={(props) => (\r\n              <Alert variant=\"danger\">{props.children}</Alert>\r\n            )}\r\n          />\r\n\r\n          <div className={`form-group`}>\r\n            <label>Nom</label>\r\n            <Field\r\n              className={`form-control ${errors.name ? 'is-invalid' : ''}`}\r\n              name=\"name\"\r\n            />\r\n            <ErrorMessage\r\n              name=\"name\"\r\n              component=\"div\"\r\n              className=\"invalid-feedback\"\r\n            />\r\n          </div>\r\n\r\n          <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n            Sauver\r\n          </Button>\r\n          <Link to=\"/admin/clubs\">\r\n            <Button variant=\"secondary\">Annuler</Button>\r\n          </Link>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ClubForm } from '../../organisms/ClubForm';\r\nimport { getUserInfo } from '../../../services/auth.service';\r\n\r\ninterface IProps {}\r\n\r\nexport const ClubAdd = (props: IProps) => {\r\n  const [orgID, setOrgID] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const userInfo = getUserInfo();\r\n    if (userInfo?.organisation?.id) {\r\n      setOrgID(userInfo?.organisation.id);\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = ()=>{\r\n    window.history.back();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ClubForm organisationID={orgID} onSubmit={onSubmit}/>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { IClub } from '../../../libs/interfaces/club.interface';\r\nimport { clubService } from '../../../services/club.service';\r\nimport { ClubForm } from '../../organisms/ClubForm';\r\nimport { getUserInfo } from '../../../services/auth.service';\r\n\r\ninterface IProps {}\r\n\r\nexport const ClubDetails = (props: IProps) => {\r\n  const [orgID, setOrgID] = useState(0);\r\n  let { id } = useParams();\r\n  const [club, setClub] = useState<null | IClub>(null);\r\n\r\n  useEffect(() => {\r\n    const userInfo = getUserInfo();\r\n    if (userInfo?.organisation?.id) {\r\n      setOrgID(userInfo?.organisation.id);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getAClub = async () => {\r\n      const result = await clubService.getByID(id);\r\n      if (result?.data) {\r\n        setClub(result.data);\r\n      }\r\n    };\r\n\r\n    getAClub();\r\n  }, [id]);\r\n\r\n  const onSubmit= ()=>{}\r\n\r\n  if (!club) {\r\n    return <>loading...</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ClubForm club={club} organisationID={orgID} onSubmit={onSubmit}/>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\r\n\r\n// ------------------------------------------ COMPONENTS IMPORT\r\nimport { Club } from '../components/pages/Club/Club';\r\nimport { ClubAdd } from '../components/pages/Club/ClubAdd';\r\nimport { ClubDetails } from '../components/pages/Club/ClubDetails';\r\n\r\nexport const ClubRoutes = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <Club />\r\n      </Route>\r\n\r\n      <Route path={`${path}/add`}>\r\n        <ClubAdd />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:id`}>\r\n        <ClubDetails />\r\n      </Route>\r\n\r\n      <Redirect to={`${path}`} />\r\n    </Switch>\r\n  );\r\n};\r\n","import { PlanType } from '../libs/interfaces/membershipPlan.interface';\r\n\r\nexport const planTypeMapper = (id: number | undefined): string => {\r\n  switch (id) {\r\n    case PlanType.weekly:\r\n      return 'hebdomadaire';\r\n    case PlanType.monthly:\r\n      return 'mensuel';\r\n    case PlanType.quarterly:\r\n      return 'trimestriel';\r\n    case PlanType.biannual:\r\n      return 'semestriel';\r\n    case PlanType.annual:\r\n      return 'annuel';\r\n    default:\r\n      return 'spécial';\r\n  }\r\n};\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { getToken } from '../services/auth.service';\r\nimport { logout } from '../services/auth.service';\r\n\r\ninterface IProps {\r\n  children: any;\r\n}\r\n\r\ninterface IGlobalContextState {\r\n  isAuthentified: boolean;\r\n}\r\n\r\ninterface IGlobalContextAction {\r\n  type: GlobalContextActions;\r\n  payload?: any;\r\n}\r\n\r\nexport enum GlobalContextActions {\r\n  INIT_APP,\r\n  HAS_LOGIN,\r\n  LOGOUT,\r\n}\r\n\r\nconst INITIAL_STATE: IGlobalContextState = {\r\n  isAuthentified: false,\r\n};\r\n\r\nexport const GlobalContext = React.createContext<{\r\n  state: IGlobalContextState;\r\n  dispatch: React.Dispatch<IGlobalContextAction>;\r\n} | null>(null);\r\n\r\nexport const GlobalContextProvider = (props: IProps) => {\r\n  const [state, dispatch] = useReducer(\r\n    (state: IGlobalContextState, action: IGlobalContextAction) => {\r\n      switch (action.type) {\r\n        case GlobalContextActions.INIT_APP:\r\n          return { ...state, isAuthentified: getToken() !== null };\r\n\r\n        case GlobalContextActions.HAS_LOGIN:\r\n          return { ...state, isAuthentified: true };\r\n\r\n        case GlobalContextActions.LOGOUT:\r\n          logout();\r\n          return INITIAL_STATE;\r\n\r\n        default:\r\n          return state;\r\n      }\r\n    },\r\n    INITIAL_STATE\r\n  );\r\n\r\n  useEffect(() => dispatch({ type: GlobalContextActions.INIT_APP }), []);\r\n\r\n  return (\r\n    <GlobalContext.Provider value={{ state, dispatch }}>\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","import { APIResource } from './api.service';\r\n\r\nexport const membershipPlanService = new APIResource('membership-plans');\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetAllFromService } from '../../../hooks/useGetAllFromService';\r\nimport { IMembershipPlan } from '../../../libs/interfaces/membershipPlan.interface';\r\nimport { planTypeMapper } from '../../../services/data-mapping.service';\r\nimport { membershipPlanService } from '../../../services/membership-plan.service';\r\nimport { DataTable } from '../../molecules/DataTable';\r\n\r\nexport const MembershipPlan = () => {\r\n  const [plans, getAllMembershipPlans] = useGetAllFromService<IMembershipPlan>({\r\n    service: membershipPlanService,\r\n  });\r\n\r\n  const DATA = plans.map((plan) => ({\r\n    ...plan,\r\n    tacit: plan.tacit ? 'oui' : 'non',\r\n    type: planTypeMapper(plan.type),\r\n  }));\r\n\r\n  const COLUMNS = [\r\n    {\r\n      Header: 'Prix',\r\n      accessor: 'price',\r\n    },\r\n    {\r\n      Header: 'Description',\r\n      accessor: 'description',\r\n    },\r\n    {\r\n      Header: 'Type',\r\n      accessor: 'type',\r\n    },\r\n    {\r\n      Header: 'Tacite',\r\n      accessor: 'tacit',\r\n    },\r\n    {\r\n      Header: 'Action',\r\n      accessor: 'id',\r\n      disableFilters: true,\r\n      disableSortBy: true,\r\n      Cell: (cell: any) => (\r\n        <MembershipPlanAction\r\n          plan={cell.row.values}\r\n          refreshList={getAllMembershipPlans}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <h1>Gestion des abonnements</h1>\r\n      <div className=\"row\">\r\n        <Link to=\"/admin/membershipPlans/add\" className=\"btn btn-primary\">\r\n          Ajouter\r\n        </Link>\r\n        <DataTable data={DATA} columns={COLUMNS} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst MembershipPlanAction = ({ plan, refreshList }: any) => {\r\n  const deletePlan = async (plan: IMembershipPlan) => {\r\n    if (!plan) return;\r\n    const deleteResult = await membershipPlanService.delete(plan.id);\r\n    if (deleteResult) refreshList();\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td>{plan.price}</td>\r\n      <td>{planTypeMapper(plan.type)}</td>\r\n      <td>{plan.tacit ? 'oui' : 'non'}</td>\r\n      <td>\r\n        <Link\r\n          to={`/admin/membershipPlans/update/${plan.id}`}\r\n          className=\"btn btn-primary\"\r\n        >\r\n          Modifier\r\n        </Link>\r\n        <button className=\"btn\" onClick={(e) => deletePlan(plan)}>\r\n          Supprimer\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Formik, Form, Field, FormikHelpers } from 'formik';\r\nimport { Button } from '../atoms/Button';\r\nimport { IMembershipPlan } from '../../libs/interfaces/membershipPlan.interface';\r\nimport { membershipPlanService } from '../../services/membership-plan.service';\r\n\r\ninterface IFormValue {\r\n  price?: number;\r\n  description?: string;\r\n  type?: number;\r\n  tacit?: boolean;\r\n  organisation?: {};\r\n}\r\n\r\ninterface IProps {\r\n  membershipPlan?: IMembershipPlan;\r\n  organisationID: number;\r\n  clubID?: number;\r\n}\r\n\r\nexport const MembershipPlanForm = (props: IProps) => {\r\n  const initialValues: IFormValue = props.membershipPlan\r\n    ? { ...props.membershipPlan }\r\n    : { price: 0, description: '', type: 1, tacit: false };\r\n\r\n  const validate = (values: IFormValue) => {\r\n    const errors: any = {};\r\n\r\n    if (!values.price) errors.price = 'Required';\r\n\r\n    return errors;\r\n  };\r\n\r\n  const submit = async (\r\n    values: IFormValue,\r\n    formHelper: FormikHelpers<IFormValue>\r\n  ) => {\r\n    const { setSubmitting, setFieldError } = formHelper;\r\n\r\n    try {\r\n      if (props.membershipPlan?.id) {\r\n        await membershipPlanService.update(props.membershipPlan.id, values);\r\n      } else {\r\n        values.organisation = { id: props.organisationID };\r\n        await membershipPlanService.add({\r\n          ...values,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.message) {\r\n        setFieldError('global', err.message);\r\n      } else {\r\n        setFieldError('global', 'Erreur serveur...');\r\n      }\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"membershipPlanForm\">\r\n      <Formik initialValues={initialValues} validate={validate} onSubmit={submit}>\r\n      {({ isSubmitting, errors }) => (\r\n        <Form>\r\n          <label htmlFor=\"price\">Prix</label>\r\n          <Field\r\n            className={`form-control ${errors.price ? 'is-invalid' : ''}`}\r\n            name=\"price\"\r\n          />\r\n          <label htmlFor=\"type\">Type</label>\r\n          <Field\r\n            className={`form-control ${errors.type ? 'is-invalid' : ''}`}\r\n            name=\"type\"\r\n          />\r\n          <label htmlFor=\"tacit\">Tacite</label>\r\n          <Field\r\n            className={`form-control ${errors.type ? 'is-invalid' : ''}`}\r\n            name=\"tacit\"\r\n            value={initialValues.tacit ? 'oui' : 'non'}\r\n          />\r\n\r\n          <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n            Sauver\r\n          </Button>\r\n          <Link to=\"/admin/membershipPlans\">\r\n            <Button variant=\"secondary\">Annuler</Button>\r\n          </Link>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { MembershipPlanForm } from '../../organisms/MembershipPlanForm';\r\nimport { getUserInfo } from '../../../services/auth.service';\r\nimport { IMembershipPlan } from '../../../libs/interfaces/membershipPlan.interface';\r\nimport { useParams } from 'react-router-dom';\r\nimport { membershipPlanService } from '../../../services/membership-plan.service';\r\n\r\ninterface IProps {\r\n  membershipPlanId?: number;\r\n}\r\n\r\nexport const MembershipPlanAdd = (props: IProps) => {\r\n  const [orgID, setOrgID] = useState(0);\r\n  const [planToUpdate, setPlanToUpdate] = useState<IMembershipPlan>();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const userInfo = getUserInfo();\r\n    if (userInfo?.organisation?.id) setOrgID(userInfo?.organisation.id);\r\n    const fetchData = async () => {\r\n      const membershipPlan = await membershipPlanService.getByID(id);\r\n      if (membershipPlan) setPlanToUpdate(membershipPlan.data);\r\n    };\r\n    if (id) fetchData();\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      <h1>Ajout d'abonnement</h1>\r\n      <div>\r\n        {id ? (\r\n          planToUpdate ? (\r\n            <MembershipPlanForm\r\n              organisationID={orgID}\r\n              membershipPlan={planToUpdate}\r\n            />\r\n          ) : null\r\n        ) : (\r\n          <MembershipPlanForm organisationID={orgID} />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\r\nimport { MembershipPlan } from '../components/pages/MembershipPlan/MembershipPlan';\r\nimport { MembershipPlanAdd } from '../components/pages/MembershipPlan/MembershipPlanAdd';\r\n\r\nexport const MembershipPlanRoute = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <MembershipPlan />\r\n      </Route>\r\n\r\n      <Route path={`${path}/add`}>\r\n        <MembershipPlanAdd />\r\n      </Route>\r\n\r\n      <Route path={`${path}/update/:id`}>\r\n        <MembershipPlanAdd />\r\n      </Route>\r\n\r\n      <Redirect to={`${path}`} />\r\n    </Switch>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { IMemberLabel } from '../../../libs/interfaces/memberLabel.interface';\r\nimport { memberLabelService } from '../../../services/memberlabel.service';\r\n\r\nexport const MemberLabel = () => {\r\n  const [memberLabels, setMemberLabels] = useState<IMemberLabel[]>([]);\r\n\r\n  useEffect(() => {\r\n    const getAllMemberLabel = async () => {\r\n      const memberLabels = await memberLabelService.getAll();\r\n      if (memberLabels) {\r\n        setMemberLabels(memberLabels.data);\r\n      }\r\n    };\r\n\r\n    getAllMemberLabel();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>Tag de membre</h1>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <Link to=\"/admin/memberlabels/add\" className=\"btn btn-primary\">\r\n            Ajouter\r\n          </Link>\r\n        </div>\r\n        <div className=\"row\">\r\n          <table className=\"table\">\r\n            <tbody>\r\n              {memberLabels.map((label) => (\r\n                <LabelRow label={label} key={label.id} />\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst LabelRow = (props: { label: IMemberLabel }) => {\r\n  const { label } = props;\r\n\r\n  return (\r\n    <tr>\r\n      <td>{label.id}</td>\r\n      <td>{label.name}</td>\r\n      <td>\r\n        <Link to={`/admin/memberlabels/${label.id}`}>...</Link>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n","import { ErrorMessage, Form, Formik, FormikHelpers } from 'formik';\r\nimport React from 'react';\r\nimport { Alert, Button } from \"react-bootstrap\";\r\nimport { Link } from 'react-router-dom';\r\nimport { IMemberLabel } from \"../../libs/interfaces/memberLabel.interface\";\r\nimport { memberLabelService } from '../../services/memberlabel.service';\r\nimport { FormGroup } from \"../molecules/FormGroup\";\r\n\r\ninterface IFormValue {\r\n  global: string;\r\n  name: string;\r\n}\r\n\r\ninterface IProps {  \r\n  label?: IMemberLabel;\r\n  organisationID: number;\r\n  onSubmit: ()=>void;\r\n}\r\n\r\nexport const MemberLabelForm = (props: IProps) => {\r\n  let initialValues: IFormValue = { name: '', global: '' };\r\n\r\n  if(props.label) {\r\n    initialValues = { ...initialValues, ...props.label};\r\n  }\r\n\r\nconst validate = (values: IFormValue) => {\r\n  const errors: any = {};\r\n\r\n  if (!values.name) {\r\n    errors.name = 'Required';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst submit = async (\r\n  values: IFormValue,\r\n  formHelper: FormikHelpers<IFormValue>\r\n) => {\r\n  const { setSubmitting, setFieldError } = formHelper;\r\n\r\n  try {\r\n    if (props.label?.id) {\r\n      await memberLabelService.update(props.label.id, values);\r\n    } else {\r\n      await memberLabelService.add({\r\n        ...values,\r\n        organisation: { id: props.organisationID },\r\n      });\r\n    }\r\n\r\n    props.onSubmit();\r\n  } catch (err) {\r\n    console.error(err);\r\n    if (err.message) {\r\n      setFieldError('global', err.message);\r\n    } else {\r\n      setFieldError('global', 'Erreur serveur...');\r\n    }\r\n  }\r\n\r\n  setSubmitting(false);\r\n};\r\n\r\nreturn (\r\n  <Formik initialValues={initialValues} validate={validate} onSubmit={submit}>\r\n    {({ isSubmitting, errors }) => (\r\n      <Form>\r\n        <ErrorMessage\r\n          name=\"global\"\r\n          component={(props) => (\r\n            <Alert variant=\"danger\">{props.children}</Alert>\r\n          )}\r\n        />\r\n\r\n        <FormGroup\r\n          formnikError={errors.name}\r\n          label=\"Nom du tag\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n        />\r\n\r\n        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n          Sauver\r\n        </Button>\r\n        <Link to=\"/admin/memberlabels\">\r\n          <Button variant=\"secondary\">Annuler</Button>\r\n        </Link>\r\n      </Form>\r\n    )}\r\n  </Formik>\r\n);\r\n}","import React from 'react';\r\nimport { useUserOrganisation } from '../../../hooks/useUserOrganisation';\r\nimport { MemberLabelForm } from '../../organisms/MemberLabelForm';\r\n\r\ninterface IProps {}\r\n\r\nexport const MemberLabelAdd = (props: IProps) => {\r\n  const [orgID] = useUserOrganisation();\r\n\r\n  const onSubmit = ()=>{\r\n    window.history.back();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MemberLabelForm organisationID={orgID} onSubmit={onSubmit}/>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useUserOrganisation } from '../../../hooks/useUserOrganisation';\r\nimport { IMemberLabel } from '../../../libs/interfaces/memberLabel.interface';\r\nimport { memberLabelService } from '../../../services/memberlabel.service';\r\nimport { MemberLabelForm } from '../../organisms/MemberLabelForm';\r\n\r\ninterface IProps {}\r\n\r\nexport const MemberLabelDetails = (props: IProps) => {\r\n  const [orgID] = useUserOrganisation();\r\n  let { id } = useParams();\r\n  const [label, setLabel] = useState<null | IMemberLabel>(null);\r\n\r\n  useEffect(() => {\r\n    const getAClub = async () => {\r\n      const result = await memberLabelService.getByID(id);\r\n      if (result?.data) {\r\n        setLabel(result.data);\r\n      }\r\n    };\r\n\r\n    getAClub();\r\n  }, [id]);\r\n\r\n  const onSubmit = ()=>{\r\n    window.history.back();\r\n  }\r\n\r\n  if(!label){\r\n    return <>loading....</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MemberLabelForm label={label} organisationID={orgID} onSubmit={onSubmit}/>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\r\n\r\n// ------------------------------------------ COMPONENTS IMPORT\r\nimport { MemberLabel } from '../components/pages/MemberLabel/MemberLabel';\r\nimport { MemberLabelAdd } from '../components/pages/MemberLabel/MemberLabelAdd';\r\nimport { MemberLabelDetails } from '../components/pages/MemberLabel/MemberLabelDetails';\r\n// import { MemberDetails } from '../components/pages/Member/MemberDetails';\r\n\r\n\r\n\r\nexport const MemberLabelRoutes = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <MemberLabel />\r\n      </Route>\r\n\r\n      <Route path={`${path}/add`}>\r\n        <MemberLabelAdd />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:id`}>\r\n        <MemberLabelDetails />\r\n      </Route>\r\n\r\n      <Redirect to={`${path}`} />\r\n    </Switch>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\ninterface IProps {\r\n  title: string;\r\n  children: any;\r\n}\r\n\r\nexport const DashboardCard = (props: IProps) => {\r\n  const { title, children } = props;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{title}</h5>\r\n        <div>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { APIResource } from './api.service';\r\n\r\nclass APIDashboard extends APIResource{\r\n  constructor(){\r\n    super('dashboard');\r\n  }\r\n}\r\n\r\nexport const dashboardService = new APIDashboard();","import React, { useEffect, useState } from 'react';\r\nimport { DashboardCard } from '../../molecules/DashboardCard';\r\nimport { dashboardService } from '../../../services/dashboard.service';\r\nimport { IDashboardStats } from '../../../libs/interfaces/dashboard.interface';\r\nimport { Link } from 'react-router-dom';\r\nimport { IMember } from '../../../libs/interfaces/member.interface';\r\n\r\nexport const Dashboard = () => {\r\n  const [stats, setStats] = useState<IDashboardStats | null>(null);\r\n\r\n  useEffect(() => {\r\n    const request = async () => {\r\n      const result = await dashboardService.getAll();\r\n      if (result) {\r\n        setStats(result.data);\r\n      }\r\n    };\r\n\r\n    request();\r\n  }, []);\r\n\r\n  if (!stats) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>Tableau de bord</h1>\r\n\r\n      <hr />\r\n\r\n      <div className=\"card-deck\">\r\n        <DashboardCard\r\n          title={\r\n            \"Membres ayant leur anniversaire dans 7 jours: \" + stats.birthdays.length\r\n          }\r\n        >\r\n          <ul className=\"list-group\">\r\n            {stats.birthdays.map((member: IMember) => (\r\n              <li className=\"list-group-item\">\r\n                <Link to={`/admin/members/${member.id}`}>\r\n                  {member.user?.firstname} {member.user?.lastname}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </DashboardCard>\r\n\r\n        <DashboardCard\r\n          title={\r\n            'Membres ayant une balance négative: ' +\r\n            stats.negativeBalanceUsers.length\r\n          }\r\n        >\r\n          <ul className=\"list-group\">\r\n            {stats.negativeBalanceUsers.map((member: IMember) => (\r\n              <li className=\"list-group-item\">\r\n                <Link to={`/admin/members/${member.id}`}>\r\n                  {member.user?.firstname} {member.user?.lastname}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </DashboardCard>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { APIResource, GET } from './api.service';\r\nclass APIMembership extends APIResource {\r\n  constructor() {\r\n    super('memberships');\r\n  }\r\n  getNotPaid() {\r\n    return GET('memberships/notPaid');\r\n  }\r\n}\r\n\r\nexport const membershipService = new APIMembership();\r\n","import { IMembership } from '../libs/interfaces/membership.interface';\r\nimport { IPayment } from '../libs/interfaces/payment.interface';\r\nimport { APIResource, POST } from './api.service';\r\n\r\nclass APIPayments extends APIResource {\r\n  constructor() {\r\n    super('payments');\r\n  }\r\n  createPaymentWithoutRequest(body: {\r\n    payment: IPayment;\r\n    memberShip: IMembership;\r\n  }) {\r\n    return POST('payments/payment-without-request', body);\r\n  }\r\n}\r\n\r\nexport const paymentService = new APIPayments();\r\n","import { APIResource } from './api.service';\r\n\r\nexport const paymentRequestService = new APIResource('payment-requests');\r\n","import React, { useEffect, useState } from 'react';\r\nimport { IMembership } from '../../libs/interfaces/membership.interface';\r\nimport { IPayment } from '../../libs/interfaces/payment.interface';\r\nimport { planTypeMapper } from '../../services/data-mapping.service';\r\nimport { membershipService } from '../../services/membership.service';\r\nimport { paymentService } from '../../services/payment.service';\r\nimport { paymentRequestService } from '../../services/paymentRequest.service';\r\n\r\ninterface IProps {\r\n  memberShip: IMembership;\r\n  onPaymentReceivedFunction: CallableFunction;\r\n}\r\n\r\nexport const PaymentCard = (props: IProps) => {\r\n  const { memberShip, onPaymentReceivedFunction } = props;\r\n  const [alreadyRequested, setAlreadyRequested] = useState<boolean>(false);\r\n  useEffect(() => {\r\n    if (memberShip.paymentRequest) setAlreadyRequested(true);\r\n  }, [memberShip.paymentRequest]);\r\n  const createPaymentRequest = async (\r\n    membership: IMembership\r\n  ): Promise<void> => {\r\n    if (!membership.plan) return; // TODO: how to correctly check non nullity of some fields more globally ?\r\n    try {\r\n      const newPaymentRequest = await paymentRequestService.add({\r\n        amount: membership.plan.price,\r\n        date: new Date(),\r\n        description: 'demandé manuellement',\r\n      });\r\n      await membershipService.update(membership.id, {\r\n        paymentRequest: newPaymentRequest?.data,\r\n      });\r\n      setAlreadyRequested(true);\r\n    } catch (e) {\r\n      console.error('error on createPaymentRequest()', e);\r\n    }\r\n  };\r\n  const createPayment = async (memberShip: IMembership): Promise<void> => {\r\n    if (!memberShip.plan) return;\r\n    let paymentData: IPayment = {\r\n      amount: memberShip.plan.price,\r\n      date: new Date(),\r\n      hasBeenCanceled: false,\r\n    };\r\n\r\n    try {\r\n      let newPayment;\r\n      if (alreadyRequested) {\r\n        paymentData.paymentRequest = memberShip.paymentRequest;\r\n        paymentData.member = memberShip.member;\r\n        newPayment = await paymentService.add(paymentData);\r\n      } else {\r\n        newPayment = await paymentService.createPaymentWithoutRequest({\r\n          payment: paymentData,\r\n          memberShip,\r\n        });\r\n      }\r\n      if(newPayment) {\r\n        onPaymentReceivedFunction()\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        {memberShip.member?.user?.firstname} {memberShip.member?.user?.lastname}\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">\r\n          Abonnement {planTypeMapper(memberShip.plan?.type)}, échu le{' '}\r\n          {memberShip.endDate}\r\n        </h5>\r\n        prix : {memberShip.plan?.price}.-\r\n        <div className=\"float-right\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n            onClick={async () => createPaymentRequest(memberShip)}\r\n            disabled={alreadyRequested}\r\n          >\r\n            Paiment demandé\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-success\"\r\n            onClick={async () => createPayment(memberShip)}\r\n          >\r\n            Argent reçu\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { IMembership } from '../../../libs/interfaces/membership.interface';\r\nimport {} from '../../../services/member.service';\r\nimport { membershipService } from '../../../services/membership.service';\r\nimport { PaymentCard } from '../../molecules/paymentCard';\r\n\r\nexport const Payment = () => {\r\n  const [memberships, setMemberships] = useState<IMembership[]>([]);\r\n\r\n  const getNotPaidMemberships = async (): Promise<void> => {\r\n    const memberships = await membershipService.getNotPaid();\r\n    setMemberships(memberships?.data);\r\n  };\r\n  useEffect(() => {\r\n    getNotPaidMemberships();\r\n  }, []);\r\n  const paymentReceived = async () => {\r\n    await getNotPaidMemberships();\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Gestion de paiements</h1>\r\n      {memberships.map((membership) => (\r\n        <PaymentCard\r\n          key={membership.id}\r\n          memberShip={membership}\r\n          onPaymentReceivedFunction={() => {\r\n            paymentReceived();\r\n          }}\r\n        ></PaymentCard>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect, useRouteMatch } from 'react-router-dom';\r\nimport { Payment } from '../components/pages/Payment/Payment';\r\n\r\nexport const PaymentRoute = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <Payment />\r\n      </Route>\r\n\r\n      <Redirect to={`${path}`} />\r\n    </Switch>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route, useRouteMatch } from 'react-router-dom';\r\nimport { MemberRoutes } from './member.routes';\r\nimport { ClubRoutes } from './club.routes';\r\nimport { MembershipPlanRoute } from './membershipPlan.routes';\r\nimport { MemberLabelRoutes } from './memberLabel.routes';\r\n\r\n// ------------------------------------------ COMPONENTS IMPORT\r\nimport { Dashboard } from '../components/pages/Dashboard/Dashboard';\r\nimport { PaymentRoute } from './payment.routes';\r\n\r\nexport const AdminRoutes = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/`} exact>\r\n        <Dashboard />\r\n      </Route>\r\n\r\n      <Route path={`${path}/members`}>\r\n        <MemberRoutes />\r\n      </Route>\r\n\r\n      <Route path={`${path}/clubs`}>\r\n        <ClubRoutes />\r\n      </Route>\r\n\r\n      <Route path={`${path}/dashboard`}>\r\n        <Dashboard />\r\n      </Route>\r\n\r\n      <Route path={`${path}/membershipPlans`}>\r\n        <MembershipPlanRoute />\r\n      </Route>\r\n\r\n      <Route path={`${path}/payments`}>\r\n        <PaymentRoute />\r\n      </Route>\r\n\r\n      <Route path={`${path}/memberlabels`}>\r\n        <MemberLabelRoutes />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n//DOC: https://github.com/negomi/react-burger-menu\r\nimport { slide as Menu } from \"react-burger-menu\"; \r\nimport './Sidebar.scss';\r\ninterface IProps {\r\n  links: {displayName: string, to: string}[];\r\n  pageWrapId: string;\r\n  outerContainerId: string;\r\n}\r\n\r\nexport const Sidebar = (props: IProps) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setIsOpen(false) //close sidebar when we change the route\r\n  }, [location]);\r\n\r\n  const handleStateChange = (state: any) => {\r\n    setIsOpen(state.isOpen)  \r\n  }\r\n\r\n  return (\r\n    <div id=\"sidebar\">\r\n    <Menu {...props} width={'40%'} isOpen={isOpen} onStateChange={(state) => handleStateChange(state)} disableAutoFocus >\r\n      {props.links.map((link) => (\r\n        <Link className=\"menu-item\" to={link.to} key={link.to}>\r\n          {link.displayName}\r\n        </Link>\r\n        ))}\r\n    </Menu>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './AdminLayout.scss';\r\nimport { Sidebar } from './Sidebar';\r\n\r\ninterface IProps {\r\n  children: any;\r\n}\r\n\r\nexport const AdminLayout = (props: IProps) => {\r\n  const adminLinks = [\r\n    {\r\n      displayName: 'Tableau de bord',\r\n      to: '/admin/dashboard',\r\n    },\r\n    {\r\n      displayName: 'Membres',\r\n      to: '/admin/members',\r\n    },\r\n    {\r\n      displayName: 'Clubs',\r\n      to: '/admin/clubs',\r\n    },\r\n    {\r\n      displayName: 'Abonnements',\r\n      to: '/admin/membershipPlans',\r\n    },\r\n    {\r\n      displayName: 'Paiements',\r\n      to: '/admin/payments',\r\n    },\r\n    {\r\n      displayName: 'Tag de membre',\r\n      to: '/admin/memberlabels',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div id=\"adminlayout\">\r\n      <div className=\"navbar navbar-dark bg-primary flex-md-nowrap p-0\">\r\n          <Link\r\n            to=\"/admin/dashboard\"\r\n            className=\"navbar-brand col-md-3 col-lg-2 mr-0 px-3\"\r\n          >\r\n            Clug\r\n          </Link>\r\n\r\n          <ul className=\"navbar-nav px-3\">\r\n            <li className=\"nav-item text-nowrap\">\r\n              <Link className=\"nav-link\" to=\"/logout\">\r\n                Déconnexion\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n      </div>\r\n        <Sidebar links= {adminLinks} pageWrapId={\"mainContent\"} outerContainerId={\"adminLayout\"}/>\r\n        <div className=\"container\" id=\"mainContent\">\r\n              {props.children}\r\n            </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport './BasicLayout.scss';\r\n\r\ninterface IProps {\r\n  children: any;\r\n}\r\n\r\nexport const BasicLayout = (props: IProps) => {\r\n  return (\r\n    <div id=\"basiclayout\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col main\">{props.children}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { forwardRef } from 'react';\r\n\r\ninterface IProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, IProps>(\r\n  (props: IProps, ref) => {\r\n    const { id, className, type, placeholder } = props;\r\n\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        id={id}\r\n        className={`form-control ${className}`}\r\n        type={type ? `${type}` : 'text'}\r\n        placeholder={placeholder}\r\n      />\r\n    );\r\n  }\r\n);\r\n","import React, { useRef, FormEvent, useContext, useState } from 'react';\r\nimport { login } from '../../services/auth.service';\r\nimport {\r\n  GlobalContext,\r\n  GlobalContextActions,\r\n} from '../../contexts/GlobalContext';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Input } from '../atoms/Input';\r\nimport { Button } from '../atoms/Button';\r\nimport { Alert } from '../atoms/Alert';\r\n\r\nexport const LoginForm = () => {\r\n  const [error, setError] = useState<null | { message: string }>(null);\r\n\r\n  const usernameInp = useRef<HTMLInputElement>(null);\r\n  const passwordInp = useRef<HTMLInputElement>(null);\r\n\r\n  const globalContext = useContext(GlobalContext);\r\n\r\n  if (!globalContext) {\r\n    return <></>;\r\n  }\r\n\r\n  if (globalContext.state.isAuthentified) {\r\n    return <Redirect to=\"/admin/dashboard\" />;\r\n  }\r\n\r\n  const submit = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const username = usernameInp.current?.value\r\n        ? usernameInp.current.value\r\n        : '';\r\n      const password = passwordInp.current?.value\r\n        ? passwordInp.current.value\r\n        : '';\r\n\r\n      await login(username, password);\r\n\r\n      globalContext.dispatch({ type: GlobalContextActions.HAS_LOGIN });\r\n\r\n      // setHasLogin(true);\r\n    } catch (err) {\r\n      console.error(err);\r\n      if (err.message) {\r\n        setError({ message: err.message });\r\n      } else {\r\n        setError({ message: 'Erreur serveur...' });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      {error ? <Alert>{error.message}</Alert> : null}\r\n      <Input ref={usernameInp} placeholder=\"username\" type=\"text\" />\r\n      <Input ref={passwordInp} placeholder=\"password\" type=\"password\" />\r\n      <Button type=\"submit\">Login</Button>\r\n    </form>\r\n  );\r\n};\r\n","import { LoginForm } from '../organisms/LoginForm';\r\nimport React from 'react';\r\n\r\nexport const Login = () => {\r\n  return (\r\n    <>\r\n      <LoginForm />\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <>\r\n      <h1>Bienvenue sur Clug App</h1>\r\n      <Link to=\"/login\">Login</Link>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useContext } from 'react';\r\nimport {\r\n  GlobalContext,\r\n  GlobalContextActions,\r\n} from '../../contexts/GlobalContext';\r\n\r\nexport const Logout = () => {\r\n  const globalCtxt = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    if (globalCtxt?.state.isAuthentified) {\r\n      globalCtxt?.dispatch({ type: GlobalContextActions.LOGOUT });\r\n    }\r\n  }, [globalCtxt]);\r\n\r\n  return (\r\n    <>\r\n      <h1>A bientôt !</h1>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { AdminRoutes } from './admin.routes';\r\n\r\n// ------------------------------------------ COMPONENTS IMPORT\r\nimport { AdminLayout } from '../components/template/AdminLayout';\r\nimport { BasicLayout } from '../components/template/BasicLayout';\r\nimport { Login } from '../components/pages/Login';\r\nimport { Home } from '../components/pages/Home';\r\nimport { Logout } from '../components/pages/Logout';\r\n\r\nexport const Routes = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact>\r\n      <BasicLayout>\r\n        <Home />\r\n      </BasicLayout>\r\n    </Route>\r\n\r\n    <Route path=\"/admin\">\r\n      <AdminLayout>\r\n        <AdminRoutes />\r\n      </AdminLayout>\r\n    </Route>\r\n\r\n    <Route path=\"/login\">\r\n      <BasicLayout>\r\n        <Login />\r\n      </BasicLayout>\r\n    </Route>\r\n\r\n    <Route path=\"/logout\">\r\n      <BasicLayout>\r\n        <Logout />\r\n      </BasicLayout>\r\n    </Route>\r\n\r\n    <Route>\r\n      <BasicLayout>\r\n        <h1>404: Nothing to see here....</h1>\r\n      </BasicLayout>\r\n    </Route>\r\n  </Switch>\r\n);\r\n","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Routes } from '../routes/routes';\r\nimport { GlobalContextProvider } from '../contexts/GlobalContext';\r\n\r\ninterface IProps {}\r\n\r\nexport const App = (props: IProps) => {\r\n  return (\r\n    <GlobalContextProvider>\r\n      <Router>\r\n        <Routes />\r\n      </Router>\r\n    </GlobalContextProvider>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './components';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nimport './index.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}